---

verbosity_level: 0

ansible_remote_path: "{{ ansible_facts['env']['ProgramData'] }}\\ansible"

terraform_packages:
  - terraform
  - terraform-docs
  - tflint
  - tfsec

azure_packages:
  - azure-cli

wsl_base_packages:
  - wsl2

wsl_packages:
  - wsl-ubuntu-2004

# Python 3 not working correctly?
python_packages:
  - python3

golang_packages:
  - golang
  - dep

windows_packages:
  # TODO:
  # windows terminal package fails
  # - microsoft-windows-terminal
  - 7zip

powershell_packages:
  - powershell-core
  - psscriptanalyzer
  - pester
  # - invoke-build
  # - az.powershell

win_features:
  - Microsoft-Windows-Subsystem-Linux
  - VirtualMachinePlatform

vscode_packages:
  - vscode

vscode_extensions:
  - hashicorp.terraform
  - ms-vscode-remote.remote-containers
  - ms-vscode-remote.remote-ssh
  - ms-vscode-remote.remote-ssh-edit
  - ms-vscode-remote.remote-wsl
  - ms-azuretools.vscode-azureterraform
  - shardulm94.trailing-spaces
  - shd101wyy.markdown-preview-enhanced
  - wwm.better-align
  - PKief.material-icon-theme
  - esbenp.prettier-vscode
  - wayou.vscode-todo-highlight

install_pre_commit: yes
install_wsl: yes
use_wsl_install: no
configure_wsl: yes
configure_wsl_update: yes
configure_wsl_scripts:
  - script: wsl_update.sh
    user: root
    terminate_post_script: yes
  - script: update_python_deps.sh
    user: root
    terminate_post_script: yes
  - script: install_pipx.sh
    user: "{{ ansible_user }}"
    terminate_post_script: yes
  - script: install_ansible.sh
    user: "{{ ansible_user }}"
    terminate_post_script: no

install_windows_packages: yes

git_clone_repos:
  - name: terraform-azurerm-resourcegroup
    url: "https://github.com/tonyskidmore/terraform-azurerm-resourcegroup.git"
    # clone_path: "{{ ansible_facts.user_dir }}\\Documents\\GitHub\\terraform-azurerm-resourcegroup"

git_config:
  - 'git config --global user.email "16082810+tonyskidmore@users.noreply.github.com"'
  - 'git config --global user.name "Tony Skidmore"'
